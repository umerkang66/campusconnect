model User {
  id            String    @id @default(cuid())
  email         String    @unique
  name          String
  password      String?
  emailVerified DateTime?
  image         String?
  bio           String?
  skills        String[]
  interests     String[]
  resume        String?
  university    String?
  major         String?
  graduationYear Int?
  
  jobPosts      JobPost[]
  applications  Application[]
  savedJobs     SavedJob[]
  messages      Message[]
  
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
}

model JobPost {
  id          String   @id @default(cuid())
  title       String
  description String
  type        JobType
  tags        String[]
  requirements String[]
  compensation String?
  duration    String?
  status      PostStatus @default(ACTIVE)
  views       Int      @default(0)
  
  creatorId   String
  creator     User     @relation(fields: [creatorId], references: [id])
  
  applications Application[]
  savedBy      SavedJob[]
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

enum JobType {
  ACADEMIC_PROJECT
  STARTUP_COLLABORATION
  PART_TIME_JOB
  COMPETITION_TEAM
  HACKATHON
  INTERNSHIP
}

enum PostStatus {
  DRAFT
  ACTIVE
  FILLED
  CLOSED
}

model Application {
  id          String @id @default(cuid())
  status      ApplicationStatus @default(PENDING)
  coverLetter String?
  resume      String?
  
  applicantId String
  applicant   User   @relation(fields: [applicantId], references: [id])
  
  jobPostId   String
  jobPost     JobPost @relation(fields: [jobPostId], references: [id])
  
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

enum ApplicationStatus {
  PENDING
  SHORTLISTED
  REJECTED
  ACCEPTED
}

model SavedJob {
  id        String   @id @default(cuid())
  userId    String
  user      User     @relation(fields: [userId], references: [id])
  jobPostId String
  jobPost   JobPost  @relation(fields: [jobPostId], references: [id])
  createdAt DateTime @default(now())
}

model Message {
  id         String   @id @default(cuid())
  content    String
  senderId   String
  sender     User     @relation(fields: [senderId], references: [id])
  receiverId String
  read       Boolean  @default(false)
  createdAt  DateTime @default(now())
}
